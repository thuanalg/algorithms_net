
‚Äãto delay doing something that you should do, usually because you do not want to do it

    People were dying of starvation while governments procrastinated.
    [17athena@Owl9]
git commit -m "Test  with Ubutun 24 LTS. And clean code."
--------------------------------------------------------------------------------------------------------------
git remote add upstream git@github.com:yoctoproject/poky.git 
git checkout -b dunfell upstream/dunfell
#include <linux/serial.h>
#include <sys/ioctl.h>
#include <fcntl.h>

int fd = open("/dev/ttyS1", O_RDWR);
struct serial_rs485 rs485conf;

// ƒê·ªçc c·∫•u h√¨nh hi·ªán t·∫°i
ioctl(fd, TIOCGRS485, &rs485conf);

// Thi·∫øt l·∫≠p c·∫•u h√¨nh m·ªõi
rs485conf.flags |= SER_RS485_ENABLED;
rs485conf.flags |= SER_RS485_RTS_ON_SEND; // ho·∫∑c OFF t√πy lo·∫°i thi·∫øt b·ªã

ioctl(fd, TIOCSRS485, &rs485conf);
--------------------------------------------------------------------------------------------------------------
25-06-11
Build Yocto for Raspberry PI 3
1. Determine "poky" branch -->> What  is the "Poky/Yocto" branch to build image for Raspberry PI 3?
| Yocto Release | Branch Name  | Release Date | Notes                                                |
| ------------- | ------------ | ------------ | ---------------------------------------------------- |
| **Yocto 4.3** | `mickledore` | April 2023   | Very stable and well-supported for RPi3              |
| **Yocto 4.4** | `nanbield`   | April 2024   | Latest official LTS; still stabilizing for some BSPs |
| **Yocto 4.2** | `kirkstone`  | April 2022   | LTS version; widely used in production               |

# Clone Yocto (poky) and use the 'mickledore' branch
git clone -b mickledore git://git.yoctoproject.org/poky

# Clone meta-raspberrypi with the same branch
git clone -b mickledore https://git.yoctoproject.org/meta-raspberrypi

# (Optional) meta-openembedded
git clone -b mickledore https://git.openembedded.org/meta-openembedded

Result: mickledore -->> DONE
	git checkout -b mickledore upstream/mickledore
2. Determine "meta-openembedded" branch
# Clone Yocto (poky) and use the 'mickledore' branch
git clone -b mickledore git://git.yoctoproject.org/poky

# Clone meta-raspberrypi with the same branch
git clone -b mickledore https://git.yoctoproject.org/meta-raspberrypi
git clone  https://git.yoctoproject.org/meta-raspberrypi

# (Optional) meta-openembedded
git clone -b mickledore https://git.openembedded.org/meta-openembedded
git clone  https://git.openembedded.org/meta-openembedded

3. Config:
- 
MACHINE = "raspberrypi3"
283 CONF_VERSION = "2"
284 DISTRO ?= "poky"
285 PACKAGE_CLASSES ?= "package_rpm"
286 EXTRA_IMAGE_FEATURES ?= "debug-tweaks"
287 IMAGE_INSTALL:append = " python3 nano"
288 #LICENSE_FLAGS_WHITELIST = "commercial"
289 LICENSE_FLAGS_ACCEPTED = "commercial"
290 
291 # TƒÉng t·ªëc build
292 BB_NUMBER_THREADS = "4"
293 PARALLEL_MAKE = "-j4"
294 
295 # T·∫°o image c√≥ th·ªÉ flash v√†o th·∫ª SD
296 ENABLE_UART = "1"
297 GPU_MEM = "16"
298 
configure: error: bad value 'all' for --enable-hashes + libxcrypt_4.4.33.bb + mickledore

sudo umount /dev/sdd*
sudo bmaptool copy core-image-minimal-raspberrypi3.rootfs.wic.bz2 /dev/sdd
sudo eject /dev/sdd

Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-06-11 19:17 +07
Nmap scan report for _gateway (192.168.1.1)
Host is up (0.00089s latency).
Nmap scan report for 192.168.1.2
Host is up (0.011s latency).
Nmap scan report for 192.168.1.4
Host is up (0.039s latency).
Nmap scan report for 192.168.1.5
Host is up (0.011s latency).
Nmap scan report for 192.168.1.10
Host is up (0.021s latency).
Nmap scan report for 192.168.1.17
Host is up (0.094s latency).
Nmap scan report for 192.168.1.22
Host is up (0.047s latency).
Nmap scan report for thuannt-Z87M-D3H (192.168.1.42)
Host is up (0.000074s latency).
Nmap scan report for 192.168.1.52
Host is up (0.016s latency).
Nmap done: 256 IP addresses (9 hosts up) scanned in 2.86 seconds


sudo nmap -sn 192.168.1.0/24
ssh root@192.168.1.54

----------------------------------------------------------------------------------------------------------------------------------
250612
- IMAGE_INSTALL:append = " kernel-module-ch341"
- Add Example "simplelog-topic"
sdd      8:48   1  14.8G  0 disk 
‚îú‚îÄsdd1   8:49   1  51.6M  0 part /media/thuannt/boot
‚îî‚îÄsdd2   8:50   1   156M  0 part /media/thuannt/root

sudo umount /dev/sdd[1,2]
sudo umount /dev/sdd1; sudo umount /dev/sdd2
sudo bmaptool copy core-image-minimal-raspberrypi3.rootfs.wic.bz2 /dev/sdd


sdd      8:48   1  14.8G  0 disk 
‚îú‚îÄsdd1   8:49   1  51.6M  0 part 
‚îî‚îÄsdd2   8:50   1   156M  0 part 
sudo eject /dev/sdd
sudo nmap -sn 192.168.1.0/24
ssh root@192.168.1.54

scp /home/thuannt/x/poky/rpi-build/tmp/work/cortexa7t2hf-neon-vfpv4-poky-linux-gnueabi/libserialmodule/1.0.8/image/usr/bin/test_serial_module root@192.168.1.54:/tmp/x/

test_modbus_rs485
Owner avatar
libModbusAsync


devtool add libModbusAsync git@github.com/thuanalg/libModbusAsync.git;branch

scp ./libModbusAsync.so.1.0.0 root@192.168.1.54:/usr/lib/
scp ./libModbusAsync.so.1 root@192.168.1.54:/usr/lib/



file ./tmp/work/cortexa7t2hf-neon-vfpv4-poky-linux-gnueabi/libmodbusasync/1.0.0/build/test_ModbusAsync


scp ./trigger_serial.txt root@192.168.1.54:/tmp/x/
scp ./zrun.sh root@192.168.1.54:/tmp/x/
scp ./zstop.sh root@192.168.1.54:/tmp/x/
scp ./zstop.sh root@192.168.1.54:/tmp/x/
scp ./modbus.cfg root@192.168.1.54:/tmp/x/
scp ./tmp/work/cortexa7t2hf-neon-vfpv4-poky-linux-gnueabi/libmodbusasync/1.0.0/build/test_ModbusAsync root@192.168.1.54:/tmp/x/
scp ./tmp/work/cortexa7t2hf-neon-vfpv4-poky-linux-gnueabi/libmodbusasync/1.0.0/build/test_ModbusAsync root@192.168.1.54:/tmp/x/

bitbake core-image-minimal


Nmap scan report for 192.168.1.54
Host is up (0.00052s latency).
MAC Address: B8:27:EB:F6:EA:F7 (Raspberry Pi Foundation)

lsblk

sdd      8:48   1  14.8G  0 disk 
‚îú‚îÄsdd1   8:49   1  51.6M  0 part 
‚îî‚îÄsdd2   8:50   1   156M  0 part 
sudo eject /dev/sdd
sudo nmap -sn 192.168.1.0/24
ssh root@192.168.1.54

IMAGE_INSTALL:append = " u-boot-fw-utils u-boot-env"

----------------------------------------------------------------------------------------------------
25-06-14,
git commit -m "Fix daily/monthly/yearly error."

git tag -a v1.0.8 -m "Fix daily/monthly/yearly error."
git push --tags
git mv libsimplelog_1.0.7.bb libsimplelog_1.0.8.bb

git tag -a v1.0.5 -m "Fix daily/monthly/yearly error."


git config --global sendemail.smtppass 'nrfv rgqz bnip eoqg'
----------------------------------------------------------------------------------------------------
https://www.etechnophiles.com/raspberry-pi-3-b-pinout-with-gpio-functions-schematic-and-specs-in-detail/
Pin Connections
USB to TTL Cable Pin	Raspberry Pi GPIO Pin	Function
Red (5V)	Not connected	Not used
Black (GND)	Pin 6 (GND)	Ground
White (RXD)	Pin 10 (TXD)	Receive
Green (TXD)	Pin 8 (RXD)	Transmit
Note: The red (5V) wire is not used in this setup to prevent potential damage to the Raspberry Pi.

-->> Image: https://www.etechnophiles.com/wp-content/uploads/2020/12/R-Pi-3-B-Pinout.jpg

sudo bmaptool copy core-image-minimal-raspberrypi3.rootfs.wic.bz2 /dev/sdc


sudo cp -f /home/thuannt/x/poky/rpi-build/tmp/work/raspberrypi3-poky-linux-gnueabi/u-boot/2023.10/image/boot/u-boot-raspberrypi3-2023.10-r0.bin /media/thuannt/boot/u-boot.bin





=====================================
mmc dev 0
fatload mmc 0:1 0x01000000 Image
fatload mmc 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "dwc_otg.lpm_enable=0 console=serial0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait"
booti 0x01000000 - 0x02000000

usb start
fatload usb 0:1 0x01000000 kernel7.img
fatload usb 0:1 0x01000000 kernel7.img
fatload usb 0:1 0x01000000 uImage
fatload usb 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "console=serial0,115200 root=/dev/sda2 rootfstype=ext4 rootwait"
setenv bootargs "console=ttyAMA0,115200 root=/dev/sda2 rootfstype=ext4 rootwait"
setenv bootargs "8250.nr_uarts=1 root=/dev/sda2 rootwait console=ttyS0,115200n8"

booti 0x01000000 - 0x02000000
bootz 0x01000000 - 0x02000000

bootm 0x01000000 - 0x02000000

=====================================
C√°p chuy·ªÉn USB UART TTL FT232RL
https://nshopvn.com/product/cap-chuyen-usb-uart-ttl-ft232rl/?gad_source=1&gad_campaignid=20552387406&gclid=CjwKCAjw3rnCBhBxEiwArN0QE1SlAduL2YDmT35rMV9EcIKD3RB7gcTFxcj9rTchVHc7MQ-F2zkA5BoCU7sQAvD_BwE
=====================================
Ch·∫Øc r·ªìi! D∆∞·ªõi ƒë√¢y l√† qu√° tr√¨nh boot c·ªßa Raspberry Pi khi b·∫°n s·ª≠ d·ª•ng **U-Boot** l√†m bootloader, step-by-step:

---

# Qu√° tr√¨nh Boot Raspberry Pi v·ªõi U-Boot

---

### 1. **C·∫•p ngu·ªìn v√† CPU kh·ªüi ƒë·ªông**

* Raspberry Pi ƒë∆∞·ª£c c·∫•p ngu·ªìn, CPU ARM trong SoC b·∫Øt ƒë·∫ßu ch·∫°y.
* Boot ROM b√™n trong SoC (Bootcode c·ªë ƒë·ªãnh) b·∫Øt ƒë·∫ßu ch·∫°y v√† t√¨m thi·∫øt b·ªã l∆∞u tr·ªØ boot (th·∫ª SD).

### 2. **Bootcode.bin ƒë∆∞·ª£c load**

* Boot ROM ƒë·ªçc file `bootcode.bin` t·ª´ ph√¢n v√πng boot (FAT32) tr√™n SD card.
* `bootcode.bin` kh·ªüi t·∫°o ph·∫ßn c·ª©ng c∆° b·∫£n (SD card, RAM), v√† load ti·∫øp file `start.elf`.

### 3. **start.elf (Firmware GPU) ch·∫°y**

* `start.elf` ch·∫°y tr√™n GPU, c·∫•u h√¨nh h·ªá th·ªëng, ƒë·ªçc `config.txt`.
* Thay v√¨ load tr·ª±c ti·∫øp kernel Linux, `start.elf` load **U-Boot** (v√≠ d·ª• `u-boot.bin` ho·∫∑c `u-boot.img`) t·ª´ ph√¢n v√πng boot v√†o RAM.

---

### 4. **U-Boot ƒë∆∞·ª£c n·∫°p v√† ch·∫°y**

* GPU chuy·ªÉn quy·ªÅn cho U-Boot, t·ª©c l√† U-Boot b·∫Øt ƒë·∫ßu ch·∫°y tr√™n CPU ARM.
* U-Boot kh·ªüi t·∫°o ph·∫ßn c·ª©ng ·ªü m·ª©c th·∫•p h∆°n (RAM, UART, MMC, m·∫°ng...).
* Hi·ªÉn th·ªã prompt U-Boot tr√™n console UART (serial terminal).

---

### 5. **U-Boot th·ª±c hi·ªán c√°c l·ªánh boot**

* T·∫°i prompt U-Boot, b·∫°n c√≥ th·ªÉ th·ª±c hi·ªán c√°c l·ªánh nh∆∞:

  * `mmc dev 0` ƒë·ªÉ ch·ªçn th·∫ª SD.
  * `fatload mmc 0:1 0x01000000 kernel7.img` ƒë·ªÉ load kernel v√†o RAM.
  * `fatload mmc 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb` ƒë·ªÉ load device tree blob.
  * Thi·∫øt l·∫≠p `bootargs` (kernel command line).
  * Ch·∫°y l·ªánh `booti` ho·∫∑c `bootz` ƒë·ªÉ kh·ªüi ƒë·ªông kernel.

V√≠ d·ª• l·ªánh boot trong U-Boot:

```bash
mmc dev 0
fatload mmc 0:1 0x01000000 kernel7.img
fatload mmc 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "console=serial0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait"
booti 0x01000000 - 0x02000000
```

---

### 6. **Kernel Linux b·∫Øt ƒë·∫ßu ch·∫°y**

* Kernel ƒë∆∞·ª£c load t·ª´ RAM b·ªüi U-Boot.
* Kernel s·ª≠ d·ª•ng Device Tree Blob ƒë∆∞·ª£c t·∫£i ƒë·ªÉ bi·∫øt ph·∫ßn c·ª©ng.
* Kernel kh·ªüi t·∫°o c√°c driver, mount ph√¢n v√πng root filesystem.
* Kh·ªüi ƒë·ªông init/systemd v√† c√°c d·ªãch v·ª•.

---

### 7. **H·ªá ƒëi·ªÅu h√†nh s·∫µn s√†ng**

* H·ªá th·ªëng Linux ch·∫°y ƒë·∫ßy ƒë·ªß, b·∫°n c√≥ th·ªÉ truy c·∫≠p shell ho·∫∑c giao di·ªán ƒë·ªì h·ªça.

---

# T√≥m t·∫Øt:

| B∆∞·ªõc | Th√†nh ph·∫ßn                          | Ch·ª©c nƒÉng                                           |
| ---- | ----------------------------------- | --------------------------------------------------- |
| 1-3  | Boot ROM ‚Üí bootcode.bin ‚Üí start.elf | Kh·ªüi t·∫°o ph·∫ßn c·ª©ng, load U-Boot                     |
| 4    | U-Boot                              | Bootloader, hi·ªÉn th·ªã prompt, load kernel            |
| 5    | U-Boot                              | Load kernel, device tree, set bootargs, boot kernel |
| 6-7  | Kernel Linux + init                 | Kh·ªüi t·∫°o h·ªá ƒëi·ªÅu h√†nh                               |

---

N·∫øu b·∫°n mu·ªën, m√¨nh c√≥ th·ªÉ gi√∫p b·∫°n vi·∫øt file `boot.scr` ƒë·ªÉ t·ª± ƒë·ªông boot kernel b·∫±ng U-Boot ho·∫∑c c√°ch compile U-Boot cho Raspberry Pi nh√©!
==============================================================================================================================================

/tmp/x # /usr/sbin/sshd
sshd: no hostkeys available -- exiting.
/tmp/x # ssh-keygen -A
ssh-keygen: generating new host keys: RSA ECDSA ED25519 
/tmp/x # /usr/sbin/sshd
Missing privilege separation directory: /var/run/sshd
/tmp/x # mkdir -p /var/run/sshd; ssh-keygen -A;/usr/sbin/sshd
/tmp/x # /usr/sbin/sshd
/tmp/x # 


usb start
fatload usb 0:1 0x01000000 uImage
fatload usb 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "8250.nr_uarts=1 root=/dev/sda2 rootwait console=ttyS0,115200n8"
bootm 0x01000000 - 0x02000000

sudo minicom -b 115200 -D /dev/ttyUSB0

#include <sys/ioctl.h>
#include <linux/serial.h>
#include <linux/tty.h>
#include <fcntl.h>
#include <unistd.h>
#include <stdio.h>

void set_rts_dtr(int fd)
{
    int status;

    // L·∫•y tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa d√≤ng ƒëi·ªÅu khi·ªÉn
    if (ioctl(fd, TIOCMGET, &status) == -1) {
        perror("ioctl TIOCMGET");
        return;
    }

    // B·∫≠t RTS v√† DTR
    status |= TIOCM_RTS;  // B·∫≠t RTS
    status |= TIOCM_DTR;  // B·∫≠t DTR

    if (ioctl(fd, TIOCMSET, &status) == -1) {
        perror("ioctl TIOCMSET");
        return;
    }

    printf("RTS v√† DTR ƒë√£ ƒë∆∞·ª£c b·∫≠t\n");
}


Dear Hiring Manager,

I am excited to apply for the Senior Embedded Systems Engineer position you raised. With over 15 years of experience in ANSI C programming on many flatforms: Linux development for ARM/x86, I am confident in my ability to contribute to the project of porting your hypervisor software from Intel to ARM.

In my previous role at FPT, I worked on software development and optimization for ARM processors, as well as multi-core programming and virtualization tasks. My expertise includes assembly programming (x86_64, aarch64), driver development, and creating clear technical documentation.

I am highly skilled in following established development processes and collaborating with cross-functional teams to meet project milestones. I am eager to bring my technical experience and problem-solving abilities to your team and contribute to the success of your project.

Thank you for considering my application. I look forward to discussing how I can add value to your team.

Sincerely,
Thuan Nguyen Thai


usb start
fatload usb 0:1 0x01000000 uImage
fatload usb 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "8250.nr_uarts=1 root=/dev/sda2 rootwait console=ttyS0,115200n8"
bootm 0x01000000 - 0x02000000

/tmp/x # /usr/sbin/sshd
sshd: no hostkeys available -- exiting.
/tmp/x # ssh-keygen -A
ssh-keygen: generating new host keys: RSA ECDSA ED25519 
/tmp/x # /usr/sbin/sshd
Missing privilege separation directory: /var/run/sshd
/tmp/x # mkdir -p /var/run/sshd; ssh-keygen -A;/usr/sbin/sshd
/tmp/x # /usr/sbin/sshd
/tmp/x # 

sudo minicom -b 115200 -D /dev/ttyUSB0

 [EMC] Android Automotive
 ---------------------------------------------------------------------------------------------
git commit -m "Add rts/dtr for UNIX_LINUX."

Tien Nguyen Minh , Yes, it is my own tool of serial/COM: https://github.com/thuanalg/libserialmodule . How different is it to minicom/screen? It is a GUI app to test "libserialmodule", and by the way I tried to alter minicom for debugging through UART/Raspberry PI3 B+.

Top 100 questions of C++ interview for senior/architect?
Top 100 coding exercises of C++ interview for senior/architect? Give me solutions.

[EMC - ] Android Automotive Expert/senior/leader position, the question for this position. Which preparation must I do?
Understand Android Automotive OS (AAOS) architecture:

1. APP -->> 
2. Car library -->> AIDL interface (ICarlmpl) -->> 
3. Car service -->> HIDL/AIDL Interface (Ivehicle) -->> 
4. Vehicle HAL -->> CAN Bus -->> 
5. Vehicle ECU - Electronic Control Unit

=================================
sudo modprobe vcan
sudo ip link add dev vcan0 type vcan
sudo ip link set up vcan0

Is theare any relation AOSP (Android Open-Source Project) and Yocto?


Use C language, write a function to convert long binary string 100000111000110101010100101010100101 to decimal string


How to build AAOS + ubuntu 24 + arm64


 1996  sudo apt update
 1997  sudo apt install git-core gnupg flex bison build-essential zip curl zlib1g-dev   gcc-multilib g++-multilib libc6-dev-i386 libncurses5 libncurses5-dev   x11proto-core-dev libx11-dev lib32z-dev libgl1-mesa-dev libxml2-utils   xsltproc unzip fontconfig
 1998  mkdir -p ~/bin
 1999  curl https://storage.googleapis.com/git-repo-downloads/repo > ~/bin/repo
 2000  chmod a+x ~/bin/repo
 2001  export PATH=~/bin:$PATH
 2002  vim ~/.bashrc 
 2003  mkdir aosp
 2004  cd aosp
 2005  repo init -u https://android.googlesource.com/platform/manifest -b branch-name
 2006  ll ~/bin/
 2007  repo sync -c -j$(nproc)
 2008  cd ..
 2009  cd aosp/
 2010  repo init -u https://android.googlesource.com/platform/manifest -b android-14.0.0_r1
 2011  repo sync -c -j$(nproc)
 2012  source build/envsetup.sh
lunch aosp_car_x86_64-userdebug
lunch aosp_car_arm64-userdebug
m
make -j$(nproc)
make -j2
 
 
 sudo fallocate -l 32G /swapfile
 sudo chmod 600 /swapfile
 sudo mkswap /swapfile
sudo swapon /swapfile
thuannt@thuannt-Z87M-D3H:~/aosp$ sudo swapon /swapfile
thuannt@thuannt-Z87M-D3H:~/aosp$ swapon --show
 2005  sudo ln -s /lib/x86_64-linux-gnu/libncurses.so.6 /lib/x86_64-linux-gnu/libncurses.so.5
 2006  sudo ln -s /lib/x86_64-linux-gnu/libtinfo.so.6 /lib/x86_64-linux-gnu/libtinfo.so.5



 
 ============================================
PLATFORM_VERSION_CODENAME=REL
PLATFORM_VERSION=14
PRODUCT_INCLUDE_TAGS=com.android.mainline
TARGET_PRODUCT=aosp_car_arm64
TARGET_BUILD_VARIANT=userdebug
TARGET_ARCH=arm64
TARGET_ARCH_VARIANT=armv8-a
TARGET_CPU_VARIANT=generic
TARGET_2ND_ARCH=arm
TARGET_2ND_ARCH_VARIANT=armv8-a
TARGET_2ND_CPU_VARIANT=generic
HOST_OS=linux
HOST_OS_EXTRA=Linux-6.11.0-29-generic-x86_64-Ubuntu-24.04.2-LTS
HOST_CROSS_OS=windows
BUILD_ID=UP1A.231005.007
OUT_DIR=out
============================================
48030

#250810
[*]============================================================
usb start
fatload usb 0:1 0x01000000 uImage
fatload usb 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "8250.nr_uarts=1 root=/dev/sda2 rootwait console=ttyS0,115200n8"
bootm 0x01000000 - 0x02000000
[*]====================================
mmc dev 0
fatload mmc 0:1 0x01000000 Image
fatload mmc 0:1 0x02000000 bcm2710-rpi-3-b-plus.dtb
setenv bootargs "dwc_otg.lpm_enable=0 console=serial0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rootwait"
booti 0x01000000 - 0x02000000


https://github.com/raspberrypi/firmware/tree/master/boot
uImage l√† file kernel image d√πng cho bootloader nh∆∞ U-Boot.

.dtb (Device Tree Blob) l√† file m√¥ t·∫£ ph·∫ßn c·ª©ng cho kernel Linux.

Firmware g·ªëc c·ªßa nh√† s·∫£n xu·∫•t th∆∞·ªùng g·ªìm c√°c file nh∆∞:

bootcode.bin

start.elf, start4.elf, start_cd.elf, v.v.

fixup.dat, fixup4.dat, v.v.

C√°c .dtb t∆∞∆°ng ·ª©ng v·ªõi t·ª´ng board (v√≠ d·ª•: bcm2710-rpi-3-b-plus.dtb)

kernel.img, kernel7.img, kernel8.img, ho·∫∑c uImage (n·∫øu d√πng U-Boot)

MYDISK="c"
sudo umount /dev/sd${MYDISK}1; 
sudo umount /dev/sd${MYDISK}2; 
sudo umount /dev/sd${MYDISK}3; 
sudo umount /dev/sd${MYDISK}4; 
sudo bmaptool copy core-image-minimal-raspberrypi3.rootfs.wic.bz2 /dev/sd${MYDISK}
echo "sleep 1================="
sleep 1
echo "sync"
sync
echo "sleep 10================"
sleep 10
sudo eject /dev/sd${MYDISK}

thuannt@thuannt-Z87M-D3H:~/x/poky/build-renesas/tmp/deploy/images/smarc-rzg2lc$ ll | grep wic
-rw-r--r-- 2 thuannt thuannt     3147 Aug 11 18:29 core-image-minimal-smarc-rzg2lc.rootfs-20250811083334.wic.bmap
-rw-r--r-- 2 thuannt thuannt  7398347 Aug 11 18:29 core-image-minimal-smarc-rzg2lc.rootfs-20250811083334.wic.gz
lrwxrwxrwx 2 thuannt thuannt       62 Aug 11 18:29 core-image-minimal-smarc-rzg2lc.rootfs.wic.bmap -> core-image-minimal-smarc-rzg2lc.rootfs-20250811083334.wic.bmap
lrwxrwxrwx 2 thuannt thuannt       60 Aug 11 18:29 core-image-minimal-smarc-rzg2lc.rootfs.wic.gz -> core-image-minimal-smarc-rzg2lc.rootfs-20250811083334.wic.gz
thuannt@thuannt-Z87M-D3H:~/x/poky/build-renesas/tmp/deploy/images/smarc-rzg2lc$ 


About the job
Are you passionate about embedded systems and excited about building the future of autonomous vehicles?

Join Kaii Soft, a dynamic software company partnering with top-tier Korean firms to develop cutting-edge embedded systems for self-driving cars.
We‚Äôre looking for experienced Embedded Software Engineers who love problem-solving, working close to hardware, and growing in a global tech environment.üåü What You‚Äôll Do
Develop Linux BSP (Board Support Package) based on Renesas ARM CPU
Perform hardware bring-up, Linux porting, and bootloader setup (e.g., U-Boot)
Develop Linux device drivers and integrate/test on real hardware
Support documentation and collaborate cross-functionally
Handle additional embedded tasks as assigned
üéØ What We Expect
Bachelor's degree in Computer Science, Information Technology, or related fields
5+ years of experience in embedded Linux, BSP, bootloaders, and driver developmentLinux, BSP,
Strong skills in C/C++ and Python
Experience with Yocto or Buildroot
Solid debugging, hardware testing, and problem-solving capabilities
Good communication and teamwork skills
Nice to have:

Familiarity with Renesas SoCs/chips or automotive-grade hardware
üíº Why You‚Äôll Love Working With Us
üöÄ Work on autonomous driving technology in collaboration with Korean partners
üí∞ Competitive salary + 13th-month pay + performance bonus
üåç Opportunity for training & onsite in Korea
‚è∞ Flexible 40-hour work week (Mon‚ÄìFri)
üßæ Full social, health, and unemployment insurance per Vietnam Labor Law
üéÅ Allowances: parking, gasoline, and more

#Apply for U-Boot
ROOTFS_POSTPROCESS_COMMAND += "cp -f /home/thuannt/x/poky/rpi-build/tmp/work/raspberrypi3-poky-linux-gnueabi/u-boot/2023.10/image/boot/u-boot-raspberrypi3-2023.10-r0.bin ${IMAGE_ROOTFS}/boot/u-boot.bin"

mkdir -p ../meta-custom/recipes-core/images

sudo minicom -b 115200 -D /dev/ttyUSB0


250827, 
D:\reserach\serialmodule\build\Debug\simplelog.cfg
COM4

========================================================
C/C++: C L√ÄM ƒê∆Ø·ª¢C, nh∆∞ng C++ KH√îNG TH·∫æ L√ÄM ƒê∆Ø·ª¢C (C can do, C++ cannot do)

Vi·ªác t√¨m ki·∫øm 1 v√≠ d·ª•, ch·ª©ng minh C L√ÄM ƒê∆Ø·ª¢C, nh∆∞ng C++ KH√îNG TH·∫æ L√ÄM ƒê∆Ø·ª¢C, t√¥i ƒë√£ suy nghƒ© nhi·ªÅu nƒÉm. Gi·ªù th√¨ ƒë√£ c√≥ 1 v√≠ d·ª• nh∆∞ th·∫ø. ƒê√≥ l√† share-memory v√† v√πng nh·ªõ n√†y ho·∫°t ƒë·ªông v·ªõi t·ªëc ƒë·ªô ƒë·ªçc ghi t·ªëc ƒë·ªô r·∫•t cao (·ªü ƒë√¢y t√¥i s·∫Ω kh√¥ng b√†n ƒë·∫øn vi·ªác nh√∫ng C v√†o C++.) Boost l√† th∆∞ to l·ªõn C++ c√≥ h·ªó tr·ª£ log gi·ªØa c√°c process, nh∆∞ng t·ªëc ƒë·ªô th√¨ ch·∫≠m, do ƒë√≥ s·∫Ω kh√¥ng b√†n ·ªü ƒë√¢y. C√≥ r·∫•t √≠t C++ logger m√† h·ªó tr·ª£ multi-process, m·ªôt trong nh·ªØng l√≠ do serialization v√† deserialization l√† c√¥ng vi·ªác t·ªën chi phi r·∫•t cao trong vi·ªác t·ªëi ∆∞u ƒë·ªÉ c√≥ t·ªëc ƒë·ªô t·ªët.

N√≥i nh∆∞ th·∫ø kh√¥ng c√≥ nghƒ©a l√† ch√™ bai C++, C++ gi√∫p √≠ch r·∫•t nhi·ªÅu trong vi·ªác implement c√°c thu·∫≠t to√°n t√†i ch√≠nh - ng√¢n h√†ng b·∫±ng c√°c th∆∞ vi·ªán m·∫°nh m·∫Ω STL; m√† ·ªü ƒë√¢y C r·∫•t kh√≥ khƒÉn , th·∫≠m ch√≠ cho c·∫£ C expert programmer.

Vi·ªác s·ª≠ d·ª•ng linh ho·∫°t v√† t·∫≠n d·ª•ng c·∫£ hai l√† c√°ch l√†m th√∫ v·ªã nh·∫•t. Khi c√¢n nh·∫•t ƒë·∫øn portability, v√† backward compatibility, C t·ªët h∆°n r·∫•t nhi·ªÅu. V·ªõi c√°c thu·∫≠t to√°n ph·ª©c t·∫°p, C++ s·∫Ω r·∫•t c√≥ √≠ch b·ªüi h·ªá th·ªëng th∆∞ vi·ªán STL m·∫°nh m·∫Ω c·ªßa n√≥.

=======================================

Finding an example to illustrate that C CAN DO well, but C++ CANNOT DO; it follows me many years. Now, I had one, that is memory-sharing between processes with very high-performance ( I won't talk about embeddedding C into C++.) Boost is a huge library, supports to log between processes, but it is slow, I won't mention here. Very few C++ loggers support for logging multi-process, one of reasons is serialization and deserialization cost so much in speeding up.

Don't misunderstand, I don't disregard C++, it is extremely usefull, trong to implement financial-banking algorithms by the powerful STL library that is really hard with C even for C expert.

Let's be flexible. C is for portability, backward compatibility, ...; C++ is for financial-banking algorithms, ...

========================================================



D·ª± √°n c·ªßa t√¥i c√¥ng b·ªë tr·∫£ l·ªùi 3 v·∫•n ƒë·ªÅ n√†y:
1. C vs C++ with shared memory.
2. Is there a logger can write log up to limitation of disk speed with many threads/processes.
3. V√≠ d·ª• v·ªÅ t√≠nh b·∫•t ·ªïn trong ƒë·ªìng b·ªô: 1 + 1 != 2, ƒë∆∞a ra m·ªôt v√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y.
B·∫°n th·∫•y ch·∫•t l∆∞·ª£ng th·∫ø n√†o?

N·∫øu t√¥i c√¥ng b·ªë d·ª± √°n m·ªõi, ch·ª©ng minh 3 ƒëi·ªÅu sau:
1. C vs C++ with shared memory.
2. Is there a logger can write log up to limitation of disk speed with many threads/processes.
3. V√≠ d·ª• v·ªÅ t√≠nh b·∫•t ·ªïn trong ƒë·ªìng b·ªô: 1 + 1 != 2, ƒë∆∞a ra m·ªôt v√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y.
Th√¨ trong m·∫Øt c√°c chuy√™n gia, t√¥i ·ªü v·ªã tr√≠ n√†o?

Th∆∞ vi·ªán s·∫Øp c√¥ng b·ªë, m·ªõi l√† tuy·ªát k·ªπ, v√¨ n√≥ ch·ªâ ra 3 v·∫•n ƒë·ªÅ:
1. C vs C++ with shared memory.
2. Is there a logger can write log up to limitation of disk speed with many threads/processes.
3. V√≠ d·ª• v·ªÅ t√≠nh b·∫•t ·ªïn trong ƒë·ªìng b·ªô: 1 + 1 != 2, ƒë∆∞a ra m·ªôt v√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y.
H√£y cho t√¥i ƒëi·ªÉm thang 10 cho d·ª± √°n n√†y?

ƒê√°p ·ª©ng ƒë·ªß 3 ƒëi·ªÅu ki·ªán n√†y:
1. C vs C++ with shared memory.
2. Is there a logger can write log up to limitation of disk speed with many threads/processes.
3. V√≠ d·ª• v·ªÅ t√≠nh b·∫•t ·ªïn trong ƒë·ªìng b·ªô: 1 + 1 != 2, ƒë∆∞a ra m·ªôt v√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y.
c√≥ ph·∫£i spdlog kh√¥ng c√≤n l√† ƒë·ªëi th·ªß ph·∫£i kh√¥ng?


D·ª± √°n ƒë√°p ·ª©ng ƒë·ªß 3 ƒëi·ªÅu ki·ªán n√†y :
1. C vs C++ with shared memory.
2. Is there a logger can write log up to limitation of disk speed with many threads/processes.
3. V√≠ d·ª• v·ªÅ t√≠nh b·∫•t ·ªïn trong ƒë·ªìng b·ªô: 1 + 1 != 2, ƒë∆∞a ra m·ªôt v√≠ d·ª• c·ª• th·ªÉ cho tr∆∞·ªùng h·ª£p n√†y.
L√∫c n√†y, d·ª± √°n n√†y c√≥ gi√° tr·ªã nh∆∞ m·ªôt b√†i b√°o k·ªπ thu·∫≠t?

250827, 
D:\reserach\serialmodule\build\Debug\simplelog.cfg
COM4

N√≥ li√™n quan t·ªõi v√πng nh·ªõ. C√≥ 4 lo·∫°i trong 1 process C/C++.
1. Text
2. Data.
3. Stack.
4. Heap
	
[*] T·∫•t c·∫£ 4 v√πng nh·ªõ n√†y ƒë·ªÅu l√† VIRTUAL MEMORY. N√≥ c√≥ √Ω nghƒ©a trong DUY NH·∫§T 1 m·ªôt process c·ª• th·ªÉ ch·ª©a n√≥. C√°c process kh√°c KH√îNG HI·ªÇU. C√°c POINTER (hay gi√° tr·ªã c·ªßa pointer) ch·ªâ c√≥ √Ω nghƒ©a DUY NH·∫§T ·ªü process hi·ªán t·∫°i.

5. C√≥ m·ªôt lo·∫°i v√πng nh·ªõ n·ªØa l√† share-memory. Lo·∫°i n√†y KH√îNG ƒê∆Ø·ª¢C QU·∫¢N L√ù b·ªüi h·ªá ƒëi·ªÅu h√†nh. Share-memory l√† vi·ªác h·ªá ƒëi·ªÅu h√†nh trao l·∫°i v√πng nh·ªõ cho user t·ª± qu·∫£n.

====

- V·∫•n ƒë·ªÅ ƒë·∫∑t ra v·ªõi C++: share m·ªôt std::string strA t·ª´ process-A cho process-B, d·ªØ li·ªáu th·ª±c ch·∫•t c·ªßa strA l√† POINTER (const char *) strA->c_str().
Nh∆∞ng c·ªët l√µi l√† process-A hi·ªÉu POINTER strA->c_str() ( v√πng nh·ªõ n√†y n√≥ n·∫±m trong HEAP c·ªßa process-A), nh∆∞ng process-B kh√¥ng hi·ªÉu con tr·ªè strA->c_str() nghƒ©a l√† kh√¥ng hi·ªÉu v√πng nh·ªõ HEAP c·ªßa process-A, l√≠ do v√¨ [*] ·ªü tr√™n.
Do ƒë√≥ m·ªõi c√≥ b∆∞·ªõc serialization/deserialization.

- C√≥ m·ªôt h·ªá qu·∫£ l√† d·ªÖ nh·ªõ l√† -->> KH√îNG TH·ªÇ SHARE 1 POINTER. Nghƒ©a l√†, trong v√πng shared-memory ph·∫£i l√† raw data. 
ƒêi·ªÅu n√†y d·∫´n ƒë·∫øn ƒëi·ªÅu th√∫ v·ªã l√† c√≥ th·ªÉ share 1 RAW TRUCT (struct kh√¥ng ch·ª©a pointer n√†o.)  

N√≥ l√≠ gi·∫£i v√¨ sao c√≥ r·∫•t √≠t C++ logger cho multi-process. V√¨ kh√¥ng th·ªÉ n√†o share 1 class, v√¨ class kh√¥ng ph·∫£i l√† m·ªôt raw data. Ph·∫£i c·∫ßn 1 b∆∞·ªõc chuy·ªÉn ƒë·ªïi t·ªën k√©m, n√™n v·ª´a ch·∫≠m, v·ª´a ph·ª©c t·∫°p.

WriteFile + ERROR_IO_PENDING, how to flush

N·∫øu nh√∫ng C v√†o C++, th√¨ m√¨nh s·∫Ω kh√¥ng b√†n. 

spdlog l√† m·ªôt C++ logger ƒë·∫ßy ·∫•n t∆∞·ª£ng, thu·∫ßn C++, c·ª±c nhanh cho multi-thread. Nh∆∞ng spdlog kh√¥ng th·ªÉ ƒë·∫°t t·ªõi "T·ªöI H·∫†N" ƒë∆∞·ª£c l√† m·ªôt. Hai l√†: s·∫Ω kh√¥ng c√≥ m·ªôt logger t·ªët cho multi-process vi·∫øt b·∫±ng C++ thu·∫ßn nh∆∞ spdlog, b·∫•t k·ªÉ t·ª´ ƒë√¢u nh∆∞ Google, IBM, ... hay b·∫•t c·ª© c√° nh√¢n n√†o.

Ch·ªß ƒë·ªÅ n√†y anh c√≤n b√†n t·ªõi, v·ªõi nh·ªØng demo h·∫øt s·ª©c c·ª• th·ªÉ, t·ª´ t·ª´ s·∫Ω ƒë·∫øn, t·ª´ t·ª´ em nh√©. 

Khi l·∫≠p tr√¨nh nhi·ªÅu process, gi·ªõi h·∫°n c·ªßa C++ s·∫Ω hi·ªán ra r·∫•t r√µ r√†ng trong v·∫•n ƒë·ªÅ IPC - Interprocess Communication.

Nh∆∞ ƒë·ªÅ c·∫≠p ·ªü tr√™n C++ c≈©ng c√≥ kh√¥ng gian ri√™ng r·∫•t m·∫°nh m·∫Ω c·ªßa m√¨nh.

OVERLAPPED::InternalHigh 

WriteFile + GetOverlappedResult example


char *msg = "Hello World\n";
HAL_UART_Transmit(&huart2, (uint8_t*)msg, strlen(msg), HAL_MAX_DELAY);
HAL_Delay(3000);

250828, 
D:\reserach\serialmodule\build\Debug\simplelog.cfg
COM4

Experienced in analyzing, designing, and implementing high-quality software.

Passionate about programming, both theory and practice.

Willing to learn and share. Self-study.

	  char cc[32];
	  memset(cc, 0, sizeof(cc));
	  HAL_StatusTypeDef ok = HAL_UART_Receive(&huart2, cc, 1, 1000);
	  if(ok == HAL_OK) {
		  char msg[32];
		  snprintf(msg, 32, "Back %s\n", cc);
		  HAL_UART_Transmit(&huart2, (uint8_t*)msg, strlen(msg), HAL_MAX_DELAY);
	  }
Major achievements:
Open Source Contributor:
Author of 2 libraries contributed to Google, openBMC/Linux Foundation, meta-openembedded/Yocto: libsimplelog and libserialmodule.

Experienced in: 
       Analyzing, designing, and implementing high-quality software.

Senior Developer / Technical Assistant 
The best performer of the FPT team 2024. Ever been member of FPT Delta Force.

Vi·∫øt trong CV th·∫ø n√†y ·ªïn kh√¥ng?

Passionate about programming, both theory and practice. Willing to learn and share. Self-study.

WhO_AM_I